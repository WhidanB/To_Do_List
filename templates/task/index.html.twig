{% extends 'base.html.twig' %} {% block title %}Task index{% endblock %} {%
block body %}

<H1>To do list</H1>
<a class="deco" href="/logout"><button type="button" class="btn btn-danger">logout</button></a>

<section class="vh-100" style="background-color: #eee;">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-md-12 col-xl-10">

        <div class="card">
          <div class="card-header p-3">
            <h5 class="mb-0"><i class="fas fa-tasks me-2"></i>Task List</h5>
          </div>
          <div class="card-body" data-mdb-perfect-scrollbar="true" style="position: relative; height: 400px">


<table class="table mb-0">
  <thead>
    <tr>
      <th scope="col">Nom</th>
      <th scope="col">Description</th>
      <th scope="col">Date</th>
      <th scope="col">Ajouté par</th>
    </tr>
  </thead>
  <tbody>
    {% for task in tasks %}
    <tr>
      <td >{{ task.name }}</td>
      <td>{{ task.description }}</td>
      <td>{{ task.dueDate ? task.dueDate|date('Y-m-d') : '' }}</td>
      <td>{{ task.addedBy }}</td>
      <td>
      
      <a href="{{ path('app_task_show', { id: task.id }) }}"><button class="btn btn-primary">show</button></a>
     <a href="{{ path('app_task_edit', { id: task.id }) }}"><button  class="btn btn-warning">edit</button></a>
       
      </td>
    </tr>
    {% else %}
    <tr>
      <td colspan="5">Pas de tâche en cours</td>
    </tr>
    {% endfor %}
  </tbody>
</table>


<div class="card-footer text-end p-3">
 <a href="{{ path('app_task_new') }}"><button class="btn btn-dark">Create new</button></a>
  </div>



{% endblock %}
